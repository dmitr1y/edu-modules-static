<!DOCTYPE html>

<html>
<head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="http://students.ipo.spb.ru/css/moduleManual.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div class="content">

    <ul class="card">
        <h2 class="card-head">Алгоритм работы электронных платежей</h2>
        <div class="card-content">

                <ol>
                    <li>
            <p>
                Банк генерирует числа n = pqи n2 = p2q2 как модули RSA. Число n используется как часть открытого
                ключа для основных платежей, n2 - часть открытого ключа для возвращения сдачи. Для генерации
                простых, а точнее псевдопростых, чисел p и q использовалась проверка Миллера-Рабина на простоту
            </p>
            </li>
            <li>
                <p>
                    После этого банк генерирует открытые ключи e для банкнот с номиналами от 1 до максимально возможного
                    разрешенного платежа(может варьироваться),которые могут быть найдены как произведение всех нечетных
                    простых чисел в степени e<sub>i</sub>, где S=(e<sub>k</sub>, e<sub>k-1</sub>,…,e<sub>1</sub>) -
                    двоичное представление номинала банкноты. Для генерации списков простых чисел в определенных
                    границах использовалось решето Эратосфена. Высчитываются закрытые ключи d и d2, обратные e по
                    модулям phi(n), phi(n2), где phi - функция Эйлера, для этого используется расширенный алгоритм
                    Евклида
                </p>
            </li>
            <li>
                <p>
                    Банк выбирает немультипликативную функцию f(N) для предотвращения получения новой купюры из двух
                    других, прошедших подпись
                </p>
            </li>
            <li>
                <p>
                    Пользователь генерирует случайное число N: 0
                    N
                    log
                            (n) (обычно N генерируется в пределах от нуля до n, но для экономии времени и памяти были
                            использованы меньшие границы)
                </p>
            </li>
            <li>
                <p>
                    После этого пользователь выбирает случайное число r: 0
                    r
                    log
                            (n) - затемняющий множитель для избежания распознания банком номера банкноты
                </p>
            </li>
            <li>
                <p>
                    Пользователь отправляет банку на подпись банкноту в видеs=f(N)*r^e mod n
                </p>
            </li>
            <li>
                <p>
                    Банк подписывает банкноту, т.е. возводит ее в соответствующую данной банкноте степень d и отправляет
                    её пользователю: s = f(N)^d*r mod n
                </p>
            </li>
            <li>
                <p>
                    Пользователь снимает затемняющий множитель и получает подписанную банкноту s = f(N)^d mod n.
                </p>
            </li>
            <li>
                <p>
                    Если пользователь хочет получить сдачу, он сообщает об этом и вводит необходимое значение.
                </p>
            </li>
            <li>
                <p>
                    Далее таким же образом генерируется купюра N2 и подписывается в банке, но уже по модулю n2.
                </p>
            </li>
            <li>
                <p>
                    Пользователь отправляет банкноту(или банкноты) другому пользователю, а тот отправляет её банку на
                    проверку.
                </p>
            </li>
            <li>
                <p>
                    Банк проверяет реестр использованных купюр на наличие в нем присланной купюры. Если не находит - то
                    заносит её в реестр и зачисляется на счёт второго пользователя данную сумму, а с первого снимает её.
                    Если находит, то завершает протокол с сообщением об ошибке.
                </p>
            </li>

                </ol>

            <h3>Системные требования</h3>
            <ul>
            <li class="sys-req">Операционная система: Windows</li>
        </ul>
            <h3>Инструкции</h3>

            <div class="spoiler">
                <input type="checkbox" id="spoilerid_1"><label for="spoilerid_1">
                Инструкция по использованию программы
            </label>
                <div class="spoiler_body">
                    <p>
                        Для работы программы вам необходимо скачать и установить в любое удобное для вас место файл
                        Install_SPS.exe. В папке, в которую вы произвели установку, будет находится папка Safe Payment
                        System, в которой находятся два основных исполняемых файла - Bank.exe и Client.exe.
                    </p>
                    <h3>Bank.exe:</h3>
                    <p>Предназначен для имитации работы банка и имеет две основные функции:</p>
                    <ol>
                        <li>New member registration</li>
                        <li>Data generation</li>
                    </ol>
                    <img src="img/1.png">
                    <p>Рисунок 1 - основное окно программы BANK</p>
                    <br/>
                    <p>

                        Первая предназначена для добавления новых пользователей в систему. В ней, для добавления нового
                        пользователя, вам необходимо ввести его имя(логин), пароль, номер банковской карточки(без
                        пробелов)
                        и сумму денег на счете, после чего пользователь будет добавлен*
                    </p>
                    <img src="img/2.png">
                    <p>Рисунок 2 - добавление нового пользователя</p>
                    <br/>
                    <p>
                        Вторая функция предназначена для генерации модулей RSA(n для основных трансферов и n2 для
                        "копилки")
                        и для генерации открытых и закрытых ключей для банкнот номиналом до введенного пользователем.
                    </p>
                    <ol>
                        <li>
                            <p>
                                Для генерации модулей n и n2 вам понадобится ввести в первые два поля минимальное и
                                максимальное кол-во цифр во множителях p и q(n = p*q), после чего программа сгенерирует*
                                простые числа p и q соответствующего размера и высчитает n, n2 , а также функции Эйлера
                                от
                                обеих модулей. Приемлемые значения для размеров p и q лежат в пределах 50-100
                                знаков(генерация 15-30 секунд). Возможны значения и больше - все зависит от
                                вычислительной
                                мощности вашего процессора.
                            </p>
                        </li>
                        <li>
                            <p>
                                Для генерации открытых ключей необходимо ввести в последнее поле максимальную сумму
                                платежа
                                S. Далее программа для монеты каждого номинала рассчитает свой открытый ключ, который
                                может
                                быть найден как произведение всех нечетных простых чисел в степени e<sub>i</sub>, где
                                S=(e<sub>k</sub>, e<sub>k-1</sub>,…,e<sub>1</sub>) - двоичное представление номинала
                                банкноты. После этого программа генерирует закрытые ключи d и d2, обратные открытому
                                ключу
                                по модулю phi(n) и phi(n2) соответственно, где phi - функция Эйлера.
                            </p>
                            <img src="img/3.png">
                            <p>Рисунок 3 - генерация модулей RSA и ключей</p>
                        </li>
                    </ol>
                    <h3>Client.exe:</h3>
                    <p>
                        Предназначен для перевода денежных средств с одного счета на другой. При запуске программы вам
                        будет
                        предложено на выбор две функции:
                    </p>
                    <ol>
                        <li>Account information</li>
                        <li>Money transfer</li>
                    </ol>
                    <img src="img/4.png">
                    <p>Рисунок 4 - главное окно программы USER</p>
                    <p>
                        При выборе любой из двух функций вам будет предложено пройти авторизацию</p>
                    <img src="img/5.png">
                    <p>Рисунок 5 - авторизация</p>
                    <p>Первая функция позволит вам получить доступ к информации о своем аккаунте(номер карты и кол-во
                        денег
                        на счете)</p>
                    <img src="img/6.png">
                    <p>Рисунок 6 - информация о счете</p>
                    <p>
                        Вторая функция позволит вам переслать деньги любому другому пользователю данной системы. Для
                        этого
                        вам необходимо будет ввести его имя, номер его банковской карты и сумму желаемого платежа. Если
                        все
                        будет сделано правильно, ваша банкнота будет отправлена на подпись, а вам будет предложено
                        ввести
                        желаемую сдачу(если таковая необходима). После этого ваша купюра будет проверена банком на
                        подлинность и на единственность(т.е. будет проверено, не была ли купюра потрачена ранее). Если
                        все
                        пройдет хорошо, то ваша купюра будет зачислена в реестр использованных, а деньги с вашего счета
                        будут перечислены на введенный вами.
                    </p>
                    <br/>
                    <p>
                        При возникновении ошибок: неправильно введенное имя пользователя или номер карты, превышение
                        максимальной суммы платежа, превышение суммы, находящейся на счету, попытка ввода отрицательного
                        числа - программа в отдельном окне сообщит об ошибке и завершит свою работу.
                    </p>
                    <img src="img/7.png">
                    <p>Рисунок 7 - передача денежных средств</p>
                    <p>
                        <i>*Все данные: имена, пароли, номера карт пользователей, модули n, n2, ключи e и d , а так же
                            все
                            потраченные купюры хранятся в соответствующих файлах *<b>.data</b> в <b>папке data</b></i>
                    </p>
                </div>
            </div>
            <br/>
            <h3>Загрузки</h3>
            <ul>
        <li class="download"><a href='Install_SPS.zip'>Скачать модуль</a></li>
    </ul>
        </div>
    </ul>
</div>
</body>
</html>
